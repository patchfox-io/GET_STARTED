# Step 12: Generate Report - Telling the Complete Story

**Purpose:** Generate the final markdown report summarizing all findings.

---

## Prerequisites

- Completed Steps 1-11
- All data collected and analyzed
- Synthesis complete

---

## 12.1 Report Structure

The report should include:

1. **Executive Summary**
   - Dataset name and analysis date
   - Overall grade
   - Key findings table

2. **The Story** (narrative form)
   - Chapter 1: The Beginning
   - Chapter 2: The Accumulation
   - Chapter 3: Current State
   - Chapter 4: Root Cause
   - Chapter 5: Recommendations

3. **Detailed Sections**
   - Dataset Composition
   - Patch Efficacy (PES)
   - Version Fragmentation (RPS)
   - Findings & Backlog
   - Edit Analysis
   - CVE Age Analysis
   - Package Growth

4. **Appendix**
   - Methodology
   - Data sources
   - Analysis period

---

## 12.2 Generate Report

```python
import json
from datetime import datetime

# Load synthesis data (from Step 11)
# In practice, you'd load this from a file saved in Step 11
dataset = "your_dataset_name"
report_date = datetime.now().strftime('%Y-%m-%d')
overall_grade = "D"  # From synthesis
gpa = 1.38  # From synthesis

report = f"""# PatchFox Security Analysis Report

**Dataset:** {dataset}
**Analysis Date:** {report_date}
**Overall Grade:** {overall_grade} (GPA: {gpa:.2f}/4.0)

---

## Executive Summary

[Add key findings table from Step 11]

---

## The Story of {dataset}

### Chapter 1: The Beginning

[Describe dataset composition and initial state]

### Chapter 2: The Accumulation

[Describe the journey - growth, changes over time]

### Chapter 3: Current State

**Good News:**
- [List positives]

**Concerning:**
- [List concerns]

### Chapter 4: Root Cause Analysis

[Explain why things are the way they are]

### Chapter 5: Recommendations

**Immediate Actions (0-30 days):**
1. [Action 1]
2. [Action 2]

**Short-Term (30-90 days):**
3. [Action 3]
4. [Action 4]

**Long-Term (90+ days):**
5. [Action 5]
6. [Action 6]

---

## Appendix: Methodology

This analysis was performed using the PatchFox Dataset Analysis Runbook v2.1.

**Data Sources:**
- Dataset metrics (time series)
- Edit records
- CVE/finding data
- Datasource metrics

**Analysis Period:** [Start date] - [End date]

---

*Generated by PatchFox Dataset Analysis Runbook v2.1*
*Analysis Date: {report_date}*
"""

# Save report
report_path = f"{dataset}_security_analysis_{report_date.replace('-', '')}.md"
with open(report_path, 'w') as f:
    f.write(report)

print(f"Report saved to: {report_path}")
```

---

## 12.3 Terminal Highlights

Print key findings to terminal:

```python
print("=" * 70)
print("  REPORT GENERATION COMPLETE")
print("=" * 70)
print(f"\n  File: {report_path}")
print(f"  Dataset: {dataset}")
print(f"  Overall Grade: {overall_grade} (GPA: {gpa:.2f}/4.0)")
print("=" * 70)

print("\n  KEY FINDINGS:")
print("  - [Finding 1]")
print("  - [Finding 2]")
print("  - [Finding 3]")

print("\n  TOP RECOMMENDATIONS:")
print("  1. [Recommendation 1]")
print("  2. [Recommendation 2]")
print("  3. [Recommendation 3]")

print("=" * 70)
```

---

## Output

- Markdown report file: `{dataset}_security_analysis_{date}.md`
- Terminal summary with key findings
- Report location confirmation

---

## Runbook Complete

You have completed the PatchFox Dataset Security Analysis Runbook.

**Next Steps:**
- Review the generated report
- Share with stakeholders
- Create tickets for recommendations
- Schedule follow-up analysis
